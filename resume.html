<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Navy Resume Builder</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-navy: #003366; /* Deep Navy */
            --accent-navy: #004d99;   /* Slightly Lighter Navy */
            --text-dark: #2c3e50;
            --bg-light: #f0f4f8;
        }

        body {
            font-family: 'Segoe UI', 'Roboto', Helvetica, Arial, sans-serif;
            background-color: var(--bg-light);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-dark);
        }

        .top-banner {
            background: var(--primary-navy);
            color: white;
            width: 100%;
            text-align: center;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .main-container {
            display: flex;
            width: 95%;
            max-width: 1300px;
            gap: 25px;
            margin: 30px 0 50px 0;
        }

        /* --- EDITOR SIDE (LEFT) --- */
        .editor-side {
            flex: 1;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            height: fit-content;
            border-top: 5px solid var(--primary-navy);
        }

        .editor-side h2 {
            color: var(--primary-navy);
            margin-top: 0;
            border-bottom: 2px solid var(--accent-navy);
            padding-bottom: 10px;
            font-size: 20px;
        }

        .form-group { margin-bottom: 18px; }
        label { display: block; font-weight: 600; margin-bottom: 8px; font-size: 14px; color: var(--primary-navy); }
        input[type="text"], textarea, input[type="file"] { 
            width: 100%; 
            padding: 12px; 
            border: 2px solid #e0e0e0; 
            border-radius: 6px; 
            box-sizing: border-box; 
            font-size: 14px;
            transition: border-color 0.3s;
        }
        input:focus, textarea:focus { border-color: var(--accent-navy); outline: none; }
        
        .download-btn {
            background: var(--primary-navy);
            color: white;
            border: none;
            padding: 16px;
            width: 100%;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: 0.3s;
            margin-top: 20px;
            box-shadow: 0 4px 6px rgba(0,51,102,0.3);
        }
        .download-btn:hover { background: var(--accent-navy); transform: translateY(-2px); }

        /* --- PREVIEW SIDE (RIGHT) --- */
        .preview-side {
            flex: 1.3;
            background: #dbe4ed;
            padding: 30px;
            display: flex;
            justify-content: center;
            border-radius: 12px;
            overflow-x: auto;
            border: 2px solid #c0d0e0;
        }

        #resume-paper {
            background: white;
            width: 210mm;
            min-height: 297mm;
            box-sizing: border-box;
            box-shadow: 0 0 25px rgba(0,0,0,0.15);
            position: relative;
        }

        /* --- RESUME STYLING --- */
        
        /* Modern Navy Header */
        .resume-header-container {
            display: flex;
            align-items: center;
            background: var(--primary-navy);
            color: white;
            padding: 35px 40px;
        }

        .photo-container {
            flex: 0 0 130px;
            height: 130px;
            margin-right: 30px;
            border-radius: 50%;
            border: 4px solid white;
            overflow: hidden;
            background: #e0e0e0; /* Placeholder color */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #out-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none; /* Hidden until uploaded */
        }
        
        .photo-placeholder-icon { font-size: 50px; color: #999; }

        .header-details { flex: 1; }
        .header-details h1 { margin: 0; font-size: 36px; text-transform: uppercase; letter-spacing: 2px; font-weight: 700; }
        .contact-info-line { margin-top: 15px; display: flex; flex-wrap: wrap; gap: 15px; font-size: 14px; }
        .contact-item { display: flex; align-items: center; }
        .contact-item i { margin-right: 8px; color: #aabbd0; }

        .resume-body { padding: 40px; }

        /* Decorative Section Divider */
        .section-divider {
            display: flex;
            align-items: center;
            color: var(--primary-navy);
            margin: 25px 0 15px 0;
        }
        .section-divider::before, .section-divider::after {
            content: '';
            flex: 1;
            border-bottom: 2px solid var(--primary-navy);
            opacity: 0.3;
        }
        .section-divider span {
            margin: 0 15px;
            font-size: 14px;
            color: var(--primary-navy);
        }

        .resume-section h3 { 
            color: var(--primary-navy);
            font-size: 20px; 
            text-transform: uppercase; 
            margin: 0 0 15px 0;
            font-weight: 700;
        }

        .resume-content { 
            font-size: 15px; 
            line-height: 1.7; 
            color: #444; 
            white-space: pre-line; 
        }
        
        /* Skills Grid */
        ul.skills-list { display: flex; flex-wrap: wrap; padding: 0; margin: 0; list-style: none; gap: 10px;}
        ul.skills-list li { 
            background: var(--bg-light);
            border: 1px solid #d0dbe5;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            color: var(--primary-navy);
            font-weight: 600;
        }

    </style>
</head>
<body>

    <div class="top-banner">
        <h1>Professional Resume Creator</h1>
        <p>Navy Theme | Photo Support | A4 PDF</p>
    </div>

    <div class="main-container">
        <div class="editor-side">
            <h2><i class="fas fa-user-circle"></i> Personal Info</h2>
            
            <div class="form-group" style="background: #f0f4f8; padding: 15px; border-radius: 8px;">
                <label><i class="fas fa-camera"></i> Upload Photo</label>
                <input type="file" id="in-photo" accept="image/png, image/jpeg, image/jpg" onchange="loadPhoto(event)">
            </div>

            <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="in-name" placeholder="e.g. Tariq Shah" oninput="liveUpdate()">
            </div>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="text" id="in-phone" placeholder="03XX-XXXXXXX" oninput="liveUpdate()">
            </div>
            <div class="form-group">
                <label>Email Address</label>
                <input type="text" id="in-email" placeholder="email@example.com" oninput="liveUpdate()">
            </div>
            <div class="form-group">
                <label>Location</label>
                <input type="text" id="in-location" placeholder="City, Country" oninput="liveUpdate()">
            </div>
            
            <h2><i class="fas fa-briefcase"></i> Details</h2>
            <div class="form-group">
                <label>Career Objective</label>
                <textarea id="in-objective" rows="4" oninput="liveUpdate()">Compassionate healthcare professional dedicated to providing quality patient care...</textarea>
            </div>
            <div class="form-group">
                <label>Key Skills (Comma separated)</label>
                <input type="text" id="in-skills" placeholder="Patient Care, Vitals Monitoring, Teamwork" oninput="liveUpdate()">
            </div>
            <div class="form-group">
                <label>Work Experience</label>
                <textarea id="in-experience" rows="6" placeholder="[Job Title] | [Hospital/Clinic Name] | [Dates]&#10;- Responsibility 1&#10;- Responsibility 2" oninput="liveUpdate()"></textarea>
            </div>
            <div class="form-group">
                <label>Education & Certifications</label>
                <textarea id="in-education" rows="4" placeholder="[Degree Name] | [Institute Name] | [Year]" oninput="liveUpdate()"></textarea>
            </div>

            <button class="download-btn" onclick="downloadResume()"><i class="fas fa-file-pdf"></i> Download Professional PDF</button>
        </div>

        <div class="preview-side">
            <div id="resume-paper">
                
                <div class="resume-header-container">
                    <div class="photo-container">
                        <i class="fas fa-user photo-placeholder-icon" id="photo-placeholder"></i>
                        <img id="out-photo" alt="Profile Photo">
                    </div>
                    <div class="header-details">
                        <h1 id="out-name">TARIQ SHAH</h1>
                        <div class="contact-info-line">
                            <div class="contact-item"><i class="fas fa-phone-alt"></i> <span id="out-phone">03XX-XXXXXXX</span></div>
                            <div class="contact-item"><i class="fas fa-envelope"></i> <span id="out-email">email@example.com</span></div>
                            <div class="contact-item"><i class="fas fa-map-marker-alt"></i> <span id="out-location">City, Pakistan</span></div>
                        </div>
                    </div>
                </div>

                <div class="resume-body">
                    
                    <div class="resume-section">
                        <h3>Career Objective</h3>
                        <div id="out-objective" class="resume-content">Objective details will appear here.</div>
                    </div>

                    <div class="section-divider"><span><i class="fas fa-gem"></i></span></div>

                    <div class="resume-section">
                        <h3>Core Skills</h3>
                        <ul id="out-skills" class="skills-list">
                            <li>Patient Care</li>
                            <li>Medical Support</li>
                        </ul>
                    </div>

                     <div class="section-divider"><span><i class="fas fa-briefcase"></i></span></div>

                    <div class="resume-section">
                        <h3>Professional Experience</h3>
                        <div id="out-experience" class="resume-content">Experience details...</div>
                    </div>

                     <div class="section-divider"><span><i class="fas fa-graduation-cap"></i></span></div>

                    <div class="resume-section">
                        <h3>Education & Certifications</h3>
                        <div id="out-education" class="resume-content">Education details...</div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to handle Photo Upload
        function loadPhoto(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.getElementById('out-photo');
                    const placeholder = document.getElementById('photo-placeholder');
                    
                    img.src = e.target.result;
                    img.style.display = 'block'; // Show image
                    placeholder.style.display = 'none'; // Hide placeholder icon
                }
                reader.readAsDataURL(file);
            }
        }

        // Function for Real-time Text Updates
        function liveUpdate() {
            // Updating Header Inputs
            document.getElementById('out-name').innerText = document.getElementById('in-name').value || "TARIQ SHAH";
            document.getElementById('out-phone').innerText = document.getElementById('in-phone').value || "03XX-XXXXXXX";
            document.getElementById('out-email').innerText = document.getElementById('in-email').value || "email@example.com";
            document.getElementById('out-location').innerText = document.getElementById('in-location').value || "City, Country";

            // Updating Body Textareas
            document.getElementById('out-objective').innerText = document.getElementById('in-objective').value;
            document.getElementById('out-experience').innerText = document.getElementById('in-experience').value;
            document.getElementById('out-education').innerText = document.getElementById('in-education').value;

            // Updating Skills (Pills Design)
            const skillsValue = document.getElementById('in-skills').value;
            const skillsList = document.getElementById('out-skills');
            skillsList.innerHTML = ""; // Clear existing list
            if (skillsValue) {
                skillsValue.split(',').forEach(s => {
                    if(s.trim() !== "") {
                        let li = document.createElement('li');
                        li.innerText = s.trim();
                        skillsList.appendChild(li);
                    }
                });
            }
        }

        // Function to Download PDF
        function downloadResume() {
            const element = document.getElementById('resume-paper');
            
            // Give temporary height to ensure everything is captured if content is long
            const originalHeight = element.style.height;
            element.style.height = "auto";

            const opt = {
                margin:       0,
                filename:     'Professional_Navy_Resume.pdf',
                image:        { type: 'jpeg', quality: 0.99 },
                html2canvas:  { scale: 2, useCORS: true, scrollY: 0 },
                jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            // Generating PDF
            html2pdf().set(opt).from(element).save().then(() => {
                 // Restore height after download
                 element.style.height = originalHeight;
            });
        }

        // Initialize with placeholder data on load
        window.onload = function() {
            liveUpdate();
        };
    </script>

</body>
</html>
